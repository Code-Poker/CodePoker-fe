import{ssr as l,ssrHydrationKey as u,escape as a,createComponent as o,For as _,ssrAttribute as m,mergeProps as k,isServer as W,getRequestEvent as M,ssrElement as $,useAssets as G,NoHydration as L,HydrationScript as D,Hydration as J,renderToStream as K}from"solid-js/web";import{createSignal as b,createResource as I,createEffect as Y,Suspense as j,Show as z,children as Q,onCleanup as X,ErrorBoundary as Z,lazy as ee,createComponent as te,sharedConfig as A}from"solid-js";import{provideRequestEvent as re}from"solid-js/web/storage";import{H3Event as R,setResponseStatus as ne,sendRedirect as se,getCookie as oe,setCookie as ae,setHeader as ie,getRequestURL as ce,getRequestIP as le,getResponseStatus as ue,getResponseStatusText as de,getResponseHeaders as pe,getResponseHeader as he,setResponseHeader as fe,appendResponseHeader as ge,getRequestWebStream as me,removeResponseHeader as ve,eventHandler as ye}from"h3";import{getContext as be}from"unctx";import{AsyncLocalStorage as $e}from"node:async_hooks";import{createRouter as we}from"radix3";const x="http://172.30.1.38:3000/",Re=async()=>(await fetch(x+"poker")).json(),xe=async e=>(console.log("fetching",e),e=="recent"?(await(await fetch(x+"poker/"+e)).json()).result:(await(await fetch(x+"poker/"+e+"/calc")).json()).result);var Ce=["<div",' class="loader">Loading...</div>'];function O(){return l(Ce,u())}var Se=["<div",' class="grid md:grid-cols-3 xl:grid-cols-4 gap-6 w-full">',"</div>"],_e=["<a","><div","><!--$-->","<!--/--> : <!--$-->","<!--/--><!--$-->","<!--/--></div></a>"];function ke(e){return console.log(e.problems),l(Se,u(),a(o(_,{get each(){return e.problems},children:t=>o(Te,t)})))}function Te(e){const[t,r]=b("bg-[#000]");e.level<7?r("bg-[#c67739]"):e.level<21?r("bg-[#4e6a86]"):e.level<60?r("bg-[#ffb028]"):e.level<159?r("bg-[#51fdbd]"):e.level<412?r("bg-[#2bbfff]"):e.level<801&&r("bg-[#ff3071]");const n="https://boj.kr/"+e.id;return l(_e,u()+m("href",a(n,!0),!1),m("class",a(t(),!0),!1),a(e.id),a(e.title),a(e.level))}var Ee=["<div",' class="result-view grid md:grid-cols-3 xl:grid-cols-4 gap-6 w-full p-6">',"</div>"],Ae=["<div",' class="background"></div>'],He=["<div",' class="modal">',"</div>"],qe=["<button",">","</button>"],Fe=["<img",' width="30" height="30" src="https://static.solved.ac/logo.svg">'],Pe=["<div",' class="rounded-lg border bg-card text-card-foreground shadow-sm cursor-pointer" data-v0-t="card"><div class="p-6 flex flex-col items-center"><img',' width="150" height="150" alt="User 1" class="rounded-full border-2 border-gray-100" style="aspect-ratio:150 / 150;object-fit:cover;"><div class="flex"><h2 class="text-lg font-semibold pr-2">',"</h2><!--$-->",'<!--/--></div><p class="text-sm text-gray-500 dark:text-gray-400">tier placeholder</p></div><div class="items-center px-6 pb-6 flex justify-between"><div class="flex flex-col text-sm"><span class="font-semibold">Points</span><span class="text-sm text-gray-500 dark:text-gray-400">','</span></div><div class="flex flex-col text-sm"><span class="font-semibold">Goal</span><span class="text-sm text-gray-500 dark:text-gray-400">',"</span></div></div></div>"];function Me(e){const[t,r]=b("recent"),[n]=I(t,xe);return Y(()=>r(e.id)),l(Ee,u(),a(o(j,{get fallback(){return o(O,{})},get children(){return o(_,{get each(){return Object.keys(n()===void 0?{}:n())},children:s=>o(Ie,k(()=>n()[s]))})}})))}function Le(e){const[t,r]=b(!1),n=Q(()=>e.children);return o(z,{get when(){return t()},get fallback(){return l(qe,u(),a(n()))},get children(){return[l(Ae,u()),l(He,u(),a(o(ke,e)))]}})}function Ie(e){return o(Le,k(e,{get children(){return l(Pe,u(),m("src",a(e.profileImage,!0),!1),a(e.handle),a(o(z,{get when(){return e.goal<=e.point},get children(){return l(Fe,u())}})),a(e.point),a(e.goal))}}))}var je=["<ul",' class="poker-list">',"</ul>"],ze=["<div",' class="side-nav"><div><!--$-->',"<!--/--><!--$-->","<!--/--></div></div>"],Oe=["<li",' class="','">',"</li>"],Ne=["<div",' class="logo"><!--$-->','<!--/--><div class="title">Code Poker</div></div>'],Be=["<div",' class="icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"><g id="_x31_0_x2C__Ace_Of_Spades_x2C__Poker_x2C__Casino_x2C__Gambler_x2C__Gambling_x2C__Cards_x2C__Shapes_x2C__Bet"><g><path style="fill:#FFFFFF;" d="M421,41v430c0,16.57-13.43,30-30,30H121c-16.57,0-30-13.43-30-30V41c0-16.57,13.43-30,30-30h270    C407.57,11,421,24.43,421,41z"></path><path style="fill:#FFFFFF;" d="M375.84,402.59c7.31,8.75,6.85,21.8-1.37,30.02c-4.35,4.35-10.06,6.53-15.76,6.53    c-5.1,0-10.19-1.74-14.33-5.22c-8.76,7.37-21.85,6.93-30.09-1.31c-4.35-4.35-6.53-10.05-6.53-15.76c0-5.07,1.72-10.14,5.17-14.26    c0.42-0.52,0.88-1.02,1.36-1.5L344.38,371l30.09,30.09C374.95,401.57,375.41,402.07,375.84,402.59z"></path><path style="fill:#FFFFFF;" d="M199.08,82.59c7.31,8.75,6.85,21.8-1.37,30.02c-4.35,4.35-10.06,6.53-15.76,6.53    c-5.1,0-10.2-1.74-14.33-5.22c-8.76,7.37-21.85,6.93-30.09-1.31c-4.35-4.35-6.53-10.05-6.53-15.76c0-5.07,1.72-10.14,5.16-14.26    c0.43-0.52,0.89-1.02,1.37-1.5L167.62,51l30.09,30.09C198.19,81.57,198.65,82.07,199.08,82.59z"></path><path style="fill:#000;" d="M333.62,230.19c18.04,21.61,16.92,53.8-3.37,74.09c-10.74,10.74-24.82,16.11-38.89,16.11    c-12.58,0-25.16-4.29-35.36-12.87c-21.61,18.18-53.91,17.1-74.25-3.24c-10.74-10.74-16.11-24.81-16.11-38.89    c0-12.52,4.25-25.03,12.74-35.2c1.05-1.27,2.18-2.5,3.37-3.69L256,152.25l74.25,74.25C331.44,227.69,332.57,228.92,333.62,230.19z    "></path><g><path style="fill:#000;" d="M391,1H121C98.944,1,81,18.944,81,41v430c0,22.056,17.944,40,40,40h270c22.056,0,40-17.944,40-40     V41C431,18.944,413.056,1,391,1z M411,471c0,11.028-8.972,20-20,20H121c-11.028,0-20-8.972-20-20V41c0-11.028,8.972-20,20-20h270     c11.028,0,20,8.972,20,20V471z"></path><path style="fill:#000;" d="M306.001,359.75c0-5.523-4.478-10-10-10h-30v-24.514c23.538,9.96,51.868,5.567,71.321-13.885     c23.848-23.848,25.414-61.889,4.007-87.532c-3.339-4.039-1.389-1.644-78.257-78.64c-3.906-3.905-10.236-3.905-14.143,0     l-74.248,74.249c-25.214,25.197-25.561,66.365-0.002,91.923c19.195,19.196,47.568,23.965,71.321,13.903v24.496h-30.002     c-5.522,0-10,4.477-10,10s4.478,10,10,10c25.424,0,54.577,0,80.002,0C301.523,369.75,306.001,365.273,306.001,359.75z      M188.822,297.208c-16.826-16.825-17.331-43.163-2.733-60.647c2.191-2.649-0.735,0.566,69.912-70.169l67.181,67.18     c17.694,17.703,17.69,45.944-0.002,63.636c-16.223,16.224-42.263,17.926-60.784,2.626c-3.635-3.033-9.056-3.132-12.832,0.033     C231.875,314.748,205.194,313.581,188.822,297.208z"></path><path style="fill:#000;" d="M157.619,141c0,5.523,4.478,10,10,10s10-4.477,10-10v-12.164     c28.999,3.932,48.061-29.987,29.168-52.616c-1.631-1.977-0.303-0.432-32.097-32.292c-3.906-3.905-10.236-3.905-14.143,0     c-31.606,31.673-30.447,30.298-32.062,32.249c-10.512,12.591-10.044,31.491,1.971,43.505c7.303,7.302,17.466,10.373,27.162,9.095     V141z M141,96.851c0-3.157,1.227-6.313,3.6-8.689l23.02-23.02l23.02,23.02c7.644,7.63,2.281,20.979-8.689,20.979     c-2.803,0-5.553-0.931-7.93-2.896c-3.74-3.121-9.158-3.055-12.837,0.029C153.335,112.876,141,107.358,141,96.851z"></path><path style="fill:#000;" d="M351.453,363.929c-3.89-3.889-10.225-3.916-14.143,0c-31.767,31.833-30.477,30.327-32.061,32.248     c-10.515,12.592-10.043,31.494,1.97,43.506c7.303,7.303,17.466,10.372,27.162,9.095V461c0,5.523,4.478,10,10,10s10-4.477,10-10     v-12.806c10.714,0.551,22.586-3.937,27.161-8.511c12.691-12.692,12.703-32.951,0-45.663L351.453,363.929z M367.4,425.54     c-4.382,4.383-11.488,4.945-16.619,0.704c-3.653-3.049-9.063-3.115-12.798-0.002c-5.105,4.238-12.3,3.619-16.623-0.702     c-4.548-4.549-4.783-11.726-0.724-16.588c0.577-0.698-0.461,0.418,23.744-23.81c24.298,24.322,23.133,23.072,23.779,23.852     C372.188,413.819,371.854,421.086,367.4,425.54z"></path></g></g></g><g id="Layer_1"></g></svg></div>'];function Ue(){const[e,t]=b("recent"),[r]=I(Re);return[l(ze,u(),a(o(Ve,{})),a(o(j,{get fallback(){return o(O,{})},get children(){return l(je,u(),a(o(_,{get each(){return r()},children:n=>(e()==="recent"&&t(n.id),l(Oe,u()+m("key",a(n.id,!0),!1),e()===n.id?"selected":"",a(n.name)))})))}}))),o(Me,{get id(){return e()}})]}function Ve(){return l(Ne,u(),a(o(We,{})))}function We(){return l(Be,u())}function Ge(e){if(W){const t=M();t.response.status=e.code,t.response.statusText=e.text,X(()=>!t.nativeEvent.handled&&(t.response.status=200))}return null}function De(e){return o(Z,{get fallback(){return o(Ge,{code:500})},get children(){return e.children}})}var Je=" ";const Ke={style:e=>$("style",e.attrs,()=>a(e.children),!0),link:e=>$("link",e.attrs,void 0,!0),script:e=>e.attrs.src?$("script",k(()=>e.attrs,{get id(){return e.key}}),()=>l(Je),!0):null};function C(e){let{tag:t,attrs:{key:r,...n}={key:void 0},children:s}=e;return Ke[t]({attrs:n,key:r,children:s})}var Ye=["<script",">","<\/script>"],Qe=["<script",' type="module" async',"><\/script>"];const Xe=l("<!DOCTYPE html>");function N(e,t,r=[]){for(let n=0;n<t.length;n++){const s=t[n];if(s.path!==e[0].path)continue;let i=[...r,s];if(s.children){const c=e.slice(1);if(c.length===0||(i=N(c,s.children,i),!i))continue}return i}}function Ze(e){const t=M();let r=[];return Promise.resolve().then(async()=>{if(t.router&&t.router.matches){const n=[...t.router.matches];for(;n.length&&(!n[0].info||!n[0].info.filesystem);)n.shift();const s=n.length&&N(n,t.routes);if(s)for(let i=0;i<s.length;i++){const c=s[i],v=await globalThis.MANIFEST.client.inputs[c.$component.src].assets();r.push.apply(r,v)}else console.warn("No route matched for preloading js assets")}r=[...new Map(r.map(n=>[n.attrs.key,n])).values()].filter(n=>n.attrs.rel==="modulepreload"&&!t.assets.find(s=>s.attrs.key===n.attrs.key))}),G(()=>r.length?r.map(n=>C(n)):void 0),o(L,{get children(){return[Xe,o(e.document,{get assets(){return[o(D,{}),t.assets.map(n=>C(n))]},get scripts(){return[l(Ye,u(),`window.manifest = ${JSON.stringify(t.manifest)}`),l(Qe,u(),m("src",a(globalThis.MANIFEST.client.inputs[globalThis.MANIFEST.client.handler].output.path,!0),!1))]},get children(){return o(J,{get children(){return o(De,{get children(){return o(Ue,{})}})}})}})]}})}function et(e){let t;const r=B(e),n={duplex:"half",method:e.method,headers:e.headers};return e.node.req.body instanceof ArrayBuffer?new Request(r,{...n,body:e.node.req.body}):new Request(r,{...n,get body(){return t||(t=pt(e),t)}})}function tt(e){return e.web??={request:et(e),url:B(e)},e.web.request}function rt(){return gt()}const T=Symbol("$HTTPEvent");function nt(e){return typeof e=="object"&&(e instanceof R||e?.[T]instanceof R||e?.__is_event__===!0)}function d(e){return function(...t){let r=t[0];if(nt(r))t[0]=r instanceof R||r.__is_event__?r:r[T];else{if(!globalThis.app.config.server.experimental?.asyncContext)throw new Error("AsyncLocalStorage was not enabled. Use the `server.experimental.asyncContext: true` option in your app configuration to enable it. Or, pass the instance of HTTPEvent that you have as the first argument to the function.");if(r=rt(),!r)throw new Error("No HTTPEvent found in AsyncLocalStorage. Make sure you are using the function within the server runtime.");t.unshift(r)}return e(...t)}}const B=d(ce),st=d(le),S=d(ne),H=d(ue),ot=d(de),y=d(pe),q=d(he),at=d(fe),it=d(ge),ct=d(se),lt=d(oe),ut=d(ae),dt=d(ie),pt=d(me),ht=d(ve);function ft(){return be("nitro-app",{asyncContext:!!globalThis.app.config.server.experimental?.asyncContext,AsyncLocalStorage:$e})}function gt(){return ft().use().event}const U=[],mt=vt(U.filter(e=>e.$component));function vt(e){function t(r,n,s,i){const c=Object.values(r).find(p=>s.startsWith(p.id+"/"));return c?(t(c.children||(c.children=[]),n,s.slice(c.id.length)),r):(r.push({...n,id:s,path:s.replace(/\/\([^)/]+\)/g,"")}),r)}return e.sort((r,n)=>r.path.length-n.path.length).reduce((r,n)=>t(r,n,n.path,n.path),[])}function yt(e,t){const r=$t.lookup(e);if(r){const n=r.route[`$${t}`];return n===void 0?void 0:{handler:n,params:r.params}}}function bt(e){return e.$GET||e.$POST||e.$PUT||e.$PATCH||e.$DELETE}const $t=we({routes:U.reduce((e,t)=>{if(!bt(t))return e;let r=t.path.replace(/\(.*\)\/?/g,"").replace(/\*([^/]*)/g,(n,s)=>`**:${s}`);if(/:[^/]*\?/g.test(r))throw new Error(`Optional parameters are not supported in API routes: ${r}`);if(e[r])throw new Error(`Duplicate API routes for "${r}" found at "${e[r].route.path}" and "${t.path}"`);return e[r]={route:t},e},{})}),w=Symbol("fetchEvent");function wt(e){return{request:tt(e),response:Ct(e),clientAddress:st(e),locals:{},nativeEvent:e,[T]:e}}function Rt(e){if(!e[w]){const t=wt(e);e[w]=t}return e[w]}class xt{constructor(t){this.event=t}get(t){const r=q(this.event,t);return Array.isArray(r)?r.join(", "):r}has(t){return this.get(t)!==void 0}set(t,r){return at(this.event,t,r)}delete(t){return ht(this.event,t)}append(t,r){it(this.event,t,r)}getSetCookie(){const t=q(this.event,"Set-Cookie");return Array.isArray(t)?t:[t]}forEach(t){return Object.entries(y(this.event)).forEach(([r,n])=>t(Array.isArray(n)?n.join(", "):n,r,this))}entries(){return Object.entries(y(this.event)).map(([t,r])=>[t,Array.isArray(r)?r.join(", "):r])[Symbol.iterator]()}keys(){return Object.keys(y(this.event))[Symbol.iterator]()}values(){return Object.values(y(this.event)).map(t=>Array.isArray(t)?t.join(", "):t)[Symbol.iterator]()}[Symbol.iterator](){return this.entries()[Symbol.iterator]()}}function Ct(e){return{get status(){return H(e)},set status(t){S(e,t)},get statusText(){return ot(e)},set statusText(t){S(e,H(),t)},headers:new xt(e)}}function St(e){e.forEach(t=>{if(!t.attrs.href)return;let r=document.head.querySelector(`link[href="${t.attrs.href}"]`);r||(r=document.createElement("link"),r.setAttribute("rel","preload"),r.setAttribute("as","style"),r.setAttribute("href",t.attrs.href),document.head.appendChild(r))})}function _t(e,t,r,n="default"){return ee(async()=>{{const i=(await e.import())[n],p=(await t.inputs?.[e.src].assets()).filter(h=>h.tag==="style"||h.attrs.rel==="stylesheet");return typeof window<"u"&&St(p),{default:h=>[...p.map(f=>C(f)),te(i,h)]}}})}function kt(){function e(r){return{...r,...r.$$route?r.$$route.require().route:void 0,info:{...r.$$route?r.$$route.require().route.info:{},filesystem:!0},component:_t(r.$component,globalThis.MANIFEST.client,globalThis.MANIFEST.ssr),children:r.children?r.children.map(e):void 0}}return mt.map(e)}function Tt(e){const t=lt(e,"flash");if(!t)return;let r=JSON.parse(t);if(!r||!r.result)return[];const n=[...r.input.slice(0,-1),new Map(r.input[r.input.length-1])];return ut(e,"flash","",{maxAge:0}),{url:r.url,result:r.error?new Error(r.result):r.result,input:n}}async function V(e){const t=globalThis.MANIFEST.client;return globalThis.MANIFEST.ssr,e.response.headers.set("Content-Type","text/html"),Object.assign(e,{manifest:await t.json(),assets:[...await t.inputs[t.handler].assets()],router:{submission:Tt(e)},routes:kt(),$islands:new Set})}function Et(e,t={}){return ye({onRequest:t.onRequest,onBeforeResponse:t.onBeforeResponse,handler:r=>{const n=Rt(r);return re(n,async()=>{const s=yt(new URL(n.request.url).pathname,n.request.method);if(s){const g=(await s.handler.import())[n.request.method];n.params=s.params,A.context={event:n};const E=await g(n);if(E!==void 0)return E;if(n.request.method!=="GET")throw new Error(`API handler for ${n.request.method} "${n.request.url}" did not return a response.`)}const i=await V(n);let c={...t};if(c.onCompleteAll){const f=c.onCompleteAll;c.onCompleteAll=g=>{P(i)(g),f(g)}}else c.onCompleteAll=P(i);if(c.onCompleteShell){const f=c.onCompleteShell;c.onCompleteShell=g=>{F(i,r)(),f(g)}}else c.onCompleteShell=F(i,r);const p=K(()=>(A.context.event=i,e(i)),c);if(i.response&&i.response.headers.get("Location"))return ct(n,i.response.headers.get("Location"));const{writable:v,readable:h}=new TransformStream;return p.pipeTo(v),h})}})}function F(e,t){return()=>{e.response&&e.response.headers.get("Location")&&(S(t,302),dt(t,"Location",e.response.headers.get("Location")))}}function P(e){return({write:t})=>{const r=e.response&&e.response.headers.get("Location");r&&t(`<script>window.location="${r}"<\/script>`)}}function At(e,t={}){return Et(e,{...t,createPageEvent:V})}var Ht=['<head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico">',"</head>"],qt=["<html",' lang="en">','<body><div id="app">',"</div><!--$-->","<!--/--></body></html>"];const Ot=At(()=>o(Ze,{document:({assets:e,children:t,scripts:r})=>l(qt,u(),o(L,{get children(){return l(Ht,a(e))}}),a(t),a(r))}));export{Ot as default};
